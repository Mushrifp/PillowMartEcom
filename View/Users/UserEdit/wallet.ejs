<style>
.modalf {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.4);
}

.modal-content {
    background-color: #fff;
    margin: 15% auto;
    padding: 20px;
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    max-width: 400px;
}

.close {
    color: #aaa;
    float: right;
    font-size: 24px;
    font-weight: bold;
    cursor: pointer;
    transition: color 0.3s;
}

.close:hover,
.close:focus {
    color: #000;
}

.btnef {
    display: inline-block;
    padding: 10px 20px;
    font-size: 16px;
    font-weight: bold;
    color: #fff;
    background-color: #007bff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
}

.btnef:hover {
    background-color: #0056b3;
}

.btnef {
 display: inline-block;
 padding: 0.9rem 1.8rem;
 font-size: 16px;
 font-weight: 700;
 color: rgb(0, 0, 0);
 border: 3px solid rgb(156, 194, 255);
 border-radius: 10px;
 cursor: pointer;
 position: relative;
 background-color: transparent;
 text-decoration: none;
 overflow: hidden;
 z-index: 1;
 font-family: inherit;
}

.btnef::before {
 content: "";
 position: absolute;
 left: 0;
 top: 0;
 width: 100%;
 height: 100%;
 background-color: rgb(156, 194, 255);
 transform: translateX(-100%);
 transition: all .3s;
 z-index: -1;
}

.btnef:hover::before {
 transform: translateX(0);
}

.form-container {
    background-color: #f5f5f5;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}


</style>
<%- include('../layout/header.ejs') %>
<!--::header part start::-->
<header class="main_menu home_menu  navcolor" style="background-color: rgb(248, 248, 248);" >
    <div class="container">
        <div class="row align-items-center justify-content-center">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg navbar-light">
                    <a class="navbar-brand" href="/home"> <img src="/img/logo.png" alt="logo"> </a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse"
                        data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="menu_icon"><i class="fas fa-bars"></i></span>
                    </button>

                    <div class="collapse navbar-collapse main-menu-item" id="navbarSupportedContent">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" href="/home">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/about">about</a>
                            </li>
                            <li class="nav-item ">
                                <a class="nav-link " href="/product">product</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/contact">Contact</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/wishlist">Wishlist</a>
                            </li>
                        </ul>
                    </div>
                    <div class="hearer_icon d-flex align-items-center">
                        <a id="search_1" href="javascript:void(0)"><i class="ti-search"></i></a>
                        <a href="/cart/cart">
                            <i class="flaticon-shopping-cart-black-shape"></i>
                        </a>
                    </div>
                    <div class="header_icon d-flex align-items-center">
                        <div class="dropdown">
                            <a class="dropdown-toggles" href="/home" role="button" id="profileDropdownTrigger" data-bs-toggle="dropdown" aria-expanded="false">
                                <img height="22px" style="margin-left: 20px;" src="/img/icons8-account-48.png" alt="Profile">
                            </a>
                                <ul class="dropdown-menu" aria-labelledby="profileDropdownTrigger">
                                    <li><a class="dropdown-item" href="/logout">Logout</a></li>
                                </ul>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
    </div>
    <div class="search_input" id="search_input_box">
        <div class="container ">
            <form class="d-flex justify-content-between search-inner">
                <input type="text" class="form-control" id="search_input" placeholder="Type here to search">
                <button type="submit" class="btn"></button>
                <span class="ti-close" id="close_search" title="Close Search"></span>
            </form>
        </div>
    </div>
</header>
<!-- Header part end-->
<!--================ Area =================-->
<div class="wide-container">
    <div class="container">
        <div class="sidebar">
            <div class="user-profile">
                <h2>Welcome <%= userDatas.name  %></h2>
                <ul>
                    <li class="Hove"><a href="/user/profile">Edit Profile</a></li>
                    <li class="Hove" ><a href="/user/address">Edit Address</a></li>
                    <li class="Hove" ><a href="/user/password">Edit Password</a></li>
                    <li class="Hove" ><a href="/user/order">Order History</a></li>
                    <li class="active Hove" ><a href="/user/wallet">Wallet</a></li>
                </ul>
            </div>
        </div>
        <div class="content">
            <div class="form-container">
                <h2>Wallet</h2>
                    <div class="form-group">
                        <h3>Amount :<span style="font-size: xx-large;">$ <%= exist.amount %></span > </h3> 
                    </div>                                                                                        
                   <button id="getHistory" style="background-color: rgb(0, 0, 0); margin-left: 10px;" class="btnef" >History</button>
            </div>
        </div>
    </div>
</div>



<div id="myModal" class="modalf">
    <div class="modal-content">
        <span class="close">&times;</span>
        <table id="modalTable" class="table">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Money</th>
                    <th>Type</th>
                </tr>
            </thead>
            <tbody id="modalData"></tbody>
        </table>
    </div>
</div>



<!--================end =================-->
  <!--::footer_part start::-->
    <footer class="footer_part">
        <div class="footer_iner section_bg">
            <div class="container">
                <div class="row justify-content-between align-items-center">
                    <div class="col-lg-8">
                        <div class="footer_menu">
                            <div class="footer_logo">
                                <a href="index.html"><img src="/img/logo.png" alt="#"></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="social_icon">
                            <a href="#"><i class="fab fa-facebook-f"></i></a>
                            <a href="#"><i class="fab fa-instagram"></i></a>
                            <a href="#"><i class="fab fa-google-plus-g"></i></a>
                            <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="copyright_part">
            <div class="container">
                <div class="row ">
                    <div class="col-lg-12">
                        <div class="copyright_text">
                            <P><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="ti-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></P>
                            <div class="copyright_link">
                                <a href="#">Turms & Conditions</a>
                                <a href="#">FAQ</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!--::footer_part end::-->

<link rel="stylesheet" href="/node_modules/sweetalert2/dist/sweetalert2.min.css">
<script src="/node_modules/sweetalert2/dist/sweetalert2.all.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>    
<!-- HTML code remains the same -->

<script>

    document.getElementById("getHistory").addEventListener("click", function() {
        axios.post("/user/getWalletHistory")
            .then((response) => {
                if (response.data.data) {
                    var modal = document.getElementById("myModal");

                    var span = document.getElementsByClassName("close")[0];

                    function openModal(data) {
                         var modalData = document.getElementById("modalData");
                         modalData.innerHTML = "";
                     
                         for (var i = 0; i < data.length; i++) {
                           var item = data[i];
                           var row = modalData.insertRow();
                           var dateCell = row.insertCell(0);
                           var moneyCell = row.insertCell(1);
                           var typeCell = row.insertCell(2);
                           dateCell.innerHTML = item.date;
                           moneyCell.innerHTML = "$" + item.money;
                           typeCell.innerHTML = item.type;
                       }
                     
                         modal.style.display = "block";
                     }


                    openModal(response.data.data);
                }
            })
    })


    document.getElementsByClassName("close")[0].onclick = function() {
        document.getElementById("myModal").style.display = "none";
    }


    window.onclick = function(event) {
        var modal = document.getElementById("myModal");
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>

<!-- Remaining script imports and closing body tag -->

    <!-- jquery plugins here-->
    <script src="/js/jquery-1.12.1.min.js"></script>
    <!-- popper js -->
    <script src="/js/popper.min.js"></script>
    <!-- bootstrap js -->
    <script src="/js/bootstrap.min.js"></script>
    <!-- easing js -->
    <script src="/js/jquery.magnific-popup.js"></script>
    <!-- swiper js -->
    <script src="/js/swiper.min.js"></script>
    <!-- swiper js -->
    <script src="/js/mixitup.min.js"></script>
    <!-- particles js -->
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/jquery.nice-select.min.js"></script>
    <!-- slick js -->
    <script src="/js/slick.min.js"></script>
    <script src="/js/jquery.counterup.min.js"></script>
    <script src="/js/waypoints.min.js"></script>
    <script src="/js/contact.js"></script>
    <script src="/js/jquery.ajaxchimp.min.js"></script>
    <script src="/js/jquery.form.js"></script>
    <script src="/js/jquery.validate.min.js"></script>
    <script src="/js/mail-script.js"></script>
    <!-- custom js -->
    <script src="/js/custom.js"></script>


</body>

</html>
