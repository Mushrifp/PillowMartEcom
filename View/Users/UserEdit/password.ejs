<style>
    .sidebar {
        position: sticky;
        top: 100px;
        background: #f8f8f8;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        margin-left: -50px;
        width: 350px;
        height: 470px;
    }
    /* Preloader CSS */
    #preloader {
        position: fixed;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
    }
    .loader {
        border: 8px solid rgba(0, 0, 0, 0.1);
        border-radius: 50%;
        border-top: 8px solid #000000;
        width: 50px;
        height: 50px;
        animation: spin 1s linear infinite;
    }
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
</style>
</head>
<body>
<!-- Preloader HTML -->
<div id="preloader">
    <div class="loader"></div>
</div>

<%- include('../layout/header.ejs') %>
<!--::header part start::-->
<header class="main_menu home_menu navcolor" style="background-color: rgb(248, 248, 248);">
    <div class="container" id="navv">
        <div class="row align-items-center justify-content-center">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg navbar-light">
                    <a class="navbar-brand" href="/home">
                        <img src="/img/logo.png" alt="logo">
                    </a>
                    <button class="navbar-toggler" type="button" 
                            data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                            aria-expanded="false" aria-label="Toggle navigation">
                        <span class="menu_icon"><i class="fas fa-bars"></i></span>
                    </button>

                    <div class="collapse navbar-collapse main-menu-item" id="navbarSupportedContent">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" href="/home">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/about">About</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/product">Product</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/contact">Contact</a>
                            </li>
                            <li class="nav-item">
                                <% if (typeof data !== "undefined" && data.wish !== undefined) { %>
                                    <a class="nav-link" href="/cart/wishlist">
                                        Wishlist 
                                        <span style="
                                            display: inline-block;
                                            background-color: #000000; 
                                            color: white; 
                                            padding: 2px 8px; 
                                            border-radius: 12px; 
                                            font-weight: bold; 
                                            font-size: 14px; 
                                            line-height: 1; 
                                            vertical-align: middle;
                                            margin-left: 5px; 
                                            "> 
                                            <%= data.wish %>
                                        </span>
                                    </a>
                                <% }else{ %>
                                   <a class="nav-link" href="/cart/wishlist">Wishlist</a>
                                
                                <% } %>
                               
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="search_1" href="javascript:void(0)">Search</a>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="header_icon d-flex align-items-center">
                        <a href="/cart/cart" style="position: relative; display: inline-block;">
                            <i class="flaticon-shopping-cart-black-shape" style="font-size: 24px; color: #000;"></i>
                            <% if (typeof data !== "undefined" && data.cart !== undefined) { %>
                                <span style="
                                    position: absolute;
                                    top: -5px;
                                    right: -10px; 
                                    background-color: #4B3049 ;
                                    color: white; 
                                    padding: 2px 8px; 
                                    border-radius: 12px; 
                                    font-weight: bold; 
                                    font-size: 12px; 
                                    line-height: 1; 
                                    vertical-align: middle; 
                                    min-width: 20px; 
                                    text-align: center;
                                    z-index: 1; 
                                ">
                                    <%= data.cart %>
                                </span>
                            <% } %>
                        </a>
                        
                        <% if(typeof userData != 'undefined'){ %>
                        <div class="dropdown">
                            <a class="dropdown-toggle profile-dropdown" href="#" role="button" id="profileDropdownTrigger">
                                <img height="22px" style="margin-left: 20px;" src="/img/icons8-account-48.png" alt="Profile">
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="profileDropdownTrigger">
                                <li><a class="dropdown-item" href="/user/profile">Edit Profile</a></li>
                                <li><a class="dropdown-item" href="/logout">Logout</a></li>
                            </ul>
                        </div>
                        <% } else { %>
                        <div class="dropdown">
                            <a class="dropdown-toggle profile-dropdown" href="#" role="button" id="profileDropdownTrigger">
                                <img height="22px" style="margin-left: 20px;" src="/img/icons8-account-48.png" alt="Profile">
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="profileDropdownTrigger">
                                <li><a class="dropdown-item" href="/login">Login</a></li>
                            </ul>
                        </div>
                        <% } %>
                    </div>
                </nav>
            </div>
        </div>
    </div>        
    
    <div class="search_input" id="search_input_box">
        <div class="container position-relative">
            <form class="d-flex justify-content-between search-inner" action="#" method="#" id="searchForm">
                <input type="text" class="form-control" name="searchQuery" id="search_input" placeholder="Type here to search">
                <button type="submit" class="btn"></button>
                <span class="ti-close" id="close_search" title="Close Search"></span>
            </form>
            <ul id="suggestionList" class="suggestion-list"></ul>
        </div>
    </div>
</header>
<!-- Header part end-->
<!--================ Area =================-->
<div class="wide-container">
    <div class="container">
        <div class="sidebar">
            <% if(typeof userDatas != 'undefined'){ %>
                <h2>Welcome <span style="color: rgb(23, 102, 133);" ><%= userDatas?.name  %></span> </h2>
                <% } %>
            <div class="user-profile">
                
                <ul>
                    <li class="Hove"><a href="/user/profile">Edit Profile</a></li>
                    <li class="Hove" ><a href="/user/address">Edit Address</a></li>
                    <li class="active Hove" ><a href="/user/password">Edit Password</a></li>
                    <li class="Hove" ><a href="/user/order">Order History</a></li>
                    <li class="Hove" ><a href="/user/wallet">Wallet</a></li>
                </ul>
            </div>
        </div>
        <div class="col-lg-9">
        <div class="content">
            <div class="form-container">
                <h2>Edit Password</h2>
                <form action="/user/profilePasswordEdit" method="post" >
                    <div class="form-group">
                        <label for="new-password">New Password</label>
                        <input type="password" id="new-password" name="new" placeholder="Enter new password" value="<%= typeof newpass !== 'undefined' ? newpass : "" %>" >                           
                    </div>                                                                                        
                    <div class="form-group">
                        <label for="confirm-password">Confirm Password</label>
                        <input type="password" id="confirm-password" name="confirm" placeholder="Confirm new password" value="<%= typeof confirm !== 'undefined' ? confirm : "" %>" >
                    </div>
                    <button type="submit">Save</button>
                </form>
                <% if(typeof message != 'undefined'){ %>
                    <h3 style="color: brown;" ><%= message %></h3>
                    <% } %>
            </div>
        </div>
    </div>
    </div>
</div>
<!--================end =================-->
<!--::footer_part start::-->
<footer class="footer_part">
    <div class="footer_iner section_bg">
        <div class="container">
            <div class="row justify-content-between align-items-center">
                <div class="col-lg-8">
                    <div class="footer_menu">
                        <div class="footer_logo">
                            <a href="index.html"><img src="/img/logo.png" alt="#"></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="social_icon">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-google-plus-g"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="copyright_part">
        <div class="container">
            <div class="row ">
                <div class="col-lg-12">
                    <div class="copyright_text">
                        <P><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="ti-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></P>
                        <div class="copyright_link">
                            <a href="#">Turms & Conditions</a>
                            <a href="#">FAQ</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>
<!--::footer_part end::-->

<!-- jquery plugins here-->
<script src="/js/jquery-1.12.1.min.js"></script>
<!-- popper js -->
<script src="/js/popper.min.js"></script>
<!-- bootstrap js -->
<script src="/js/bootstrap.min.js"></script>
<!-- easing js -->
<script src="/js/jquery.magnific-popup.js"></script>
<!-- swiper js -->
<script src="/js/swiper.min.js"></script>
<!-- swiper js -->
<script src="/js/mixitup.min.js"></script>
<!-- particles js -->
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/jquery.nice-select.min.js"></script>
<!-- slick js -->
<script src="/js/slick.min.js"></script>
<script src="/js/jquery.counterup.min.js"></script>
<script src="/js/waypoints.min.js"></script>
<script src="/js/contact.js"></script>
<script src="/js/jquery.ajaxchimp.min.js"></script>
<script src="/js/jquery.form.js"></script>
<script src="/js/jquery.validate.min.js"></script>
<script src="/js/mail-script.js"></script>
<!-- custom js -->
<script src="/js/custom.js"></script>

<script>
    window.addEventListener('load', function() {
        // Hide preloader once the page is fully loaded
        document.getElementById('preloader').style.display = 'none';
    });
</script>
</body>
</html>